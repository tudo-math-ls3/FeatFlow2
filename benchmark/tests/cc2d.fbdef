# -*- mode: sh -*-
#
# Description of the file format:
# This file is supposed to be a simple ASCII text file. Settings are
# defined per line via
#   keyword  = value
# The scope of a keyword/value setting is from its definition till 
# being overwritten or till the end of file. 
# A test definition starts with 
#   testid       = ARBITRARY_TESTNAME
# All keyword/value settings defined earlier - as well as those defined in 
# the file defaults.fbdef - are automatically assigned to this test definition.
# The value of any keyword can, of course, be subsequently overwritten 
# via a line "keyword = value". This updated keyword/value setting will then
# be the default for any subsequently defined test.
# Anything behind a hash sign (#) is regarded as comment.
#
# Every keyword found is exported as environment variable (in uppercase).
# The case of the corresponding values is left untouched.
#
# Example for keyword/value settings inheritance: The following block 
#
#	grid = grids/foo/bar1.feast
#	mglevels = 1,2,3,4
#
#	testid   = FOO1
#	appl = baz
#
#	testid   = FOO2
#	grid = grids/foo/bar2.feast
#
#	testid   = FOO3
#	appl = foobar
#	mglevels = 5,6
#
# is equivalent to
#
#	testid   = FOO1
#	appl = baz
#	grid = grids/foo/bar1.feast
#	mglevels = 1,2,3,4
#
#	testid   = FOO2
#	appl = baz
#	grid = grids/foo/bar2.feast
#	mglevels = 1,2,3,4
#
#	testid   = FOO3
#	appl = foobar
#	grid = grids/foo/bar2.feast
#	mglevels = 5,6
# 

#============================================================
# global settings for all CC2D tests defined in this file
#============================================================

appl = cc2d
class = DEFAULT

##########
# Standard variable settings; all variables
##########

DISCRETISATION_IEQUATION = 0
DISCRETISATION_RE = 1000
DISCRETISATION_IELEMENTTYPE = 3
DISCRETISATION_IUPWIND = 0
DISCRETISATION_DUPSAM = 1.0
TIMEDISCRETISATION_ITIMEDEPENDENCE = 0
TIMEDISCRETISATION_NITERATIONS = 10000
TIMEDISCRETISATION_DTIMESTEP = 0.1
TIMEDISCRETISATION_DTIMEINIT = 0.0
TIMEDISCRETISATION_DTIMEMAX = 1.0
TIMEDISCRETISATION_DTIMESTEPTHETA = 1.0
NONLINEAR_ITYPEPRECONDITIONING = 1
NONLINEAR_DEPSD = 1.0E-5
NONLINEAR_DEPSDIV = 1.0E-5
LINEARSOLVER_ISMOOTHERTYPE = 3
LINEARSOLVER_ICOARSEGRIDSOLVERTYPE = 2
SMOOTHER_DOMEGA = 1.0
POSTPROCESSING_IOUTPUTUCD = 1
POSTPROCESSING_SFILENAMEUCD = '%{spostdirectory}/u_lv%{CC-DISCRETISATION.NLMAX}.gmv'
POSTPROCESSING_DTIMEDIFFERENCEUCD = 0.0
POSTPROCESSING_IWRITEBODYFORCES = 1
POSTPROCESSING_DBDFORCESCOEFF1 = 0.001
POSTPROCESSING_DBDFORCESCOEFF2 = 0.004
BDR_PARPROFILEMAX = 0.3
DISCRETISATION_CTYPEINITIALSOLUTION = 0
DISCRETISATION_IINITIALSOLUTIONLEVEL = 0
DISCRETISATION_SINITIALSOLUTIONFILENAME = ''
DISCRETISATION_IELEMENTTYPEINITIALSOLUTION = -1
DISCRETISATION_CWRITEFINALSOLUTION=1
POSTPROCESSING_SWRITESOLUTIONFILENAME = '%{spostdirectory}/solution_lv%{CC-DISCRETISATION.NLMAX}'
POSTPROCESSING_IBODYFORCESFORMULATION=-1
POSTPROCESSING_ICALCBODYFORCES=2
POSTPROCESSING_IWRITEPOINTVALUES=1
POSTPROCESSING_SFILENAMEPOINTVALUES = '%{spostdirectory}/pointvalues_lv%{CC-DISCRETISATION.NLMAX}'


##########
# Each tests inherits all variables from the previous one!
# Test 1 inherits all variables from above!
##########

##########
# Test 1
#
# Stationary Navier-Stokes on level 4
##########

testid   = CC2D_001
descr    = standard DFG benchmark, CC2D, stationary Navier-Stokes
datfile  = ./data/apps_cc2d/master_bench.dat
# call program several times, each time with a different maximum multigrid level,
# e.g. to calculate some error-reduction rates.
mglevels = 4
DISCRETISATION_IEQUATION = 0
TIMEDISCRETISATION_ITIMEDEPENDENCE = 0
POSTPROCESSING_DBDFORCESCOEFF1 = 0.001
POSTPROCESSING_DBDFORCESCOEFF2 = 0.004
BDR_PARPROFILEMAX = 0.3

##########
# Test 2
#
# Stationary Stokes on level 4
##########

testid   = CC2D_002
descr    = standard DFG benchmark, CC2D, stationary Stokes
datfile  = ./data/apps_cc2d/master_bench.dat
mglevels = 4
DISCRETISATION_IEQUATION = 1

##########
# Test 100
#
# Nontationary Navier-Stokes on level 2,3,4,5.
# Q1~ element, SD(0.1)
# 5 timesteps with timestep 0.01, Backward-Euler
##########

testid   = CC2D_100
descr    = standard DFG benchmark, CC2D, nonstationary Navier-Stokes, Q1~, SD(0.1), 5 timesteps BE
datfile  = ./data/apps_cc2d/master_bench.dat
mglevels = 2,3,4,5
DISCRETISATION_IEQUATION = 0
DISCRETISATION_IELEMENTTYPE = 3
DISCRETISATION_IUPWIND = 0
DISCRETISATION_DUPSAM = 0.3
TIMEDISCRETISATION_ITIMEDEPENDENCE = 1
TIMEDISCRETISATION_DTIMESTEP = 0.01
TIMEDISCRETISATION_DTIMEMAX = 0.06
TIMEDISCRETISATION_DTIMESTEPTHETA = 1.0
POSTPROCESSING_DTIMEDIFFERENCEUCD = 0.0
POSTPROCESSING_DBDFORCESCOEFF1 = 0.001
POSTPROCESSING_DBDFORCESCOEFF2 = 0.01
BDR_PARPROFILEMAX = 1.5

##########
# Test 101
#
# Nontationary Navier-Stokes on level 2,3,4,5.
# Q1~ element, SD(0.1)
# 5 timesteps with timestep 0.01, Crank-Nicolson
##########

testid   = CC2D_101
descr    = standard DFG benchmark, CC2D, nonstationary Navier-Stokes, Q1~, SD(0.1), 5 timesteps CN
datfile  = ./data/apps_cc2d/master_bench.dat
mglevels = 2,3,4,5
TIMEDISCRETISATION_DTIMESTEPTHETA = 0.5

##########
# Test 102
#
# Nontationary Navier-Stokes on level 2,3.
# Q2 element, SD(0.2)
# 5 timesteps with timestep 0.01, Backward-Euler
##########

testid   = CC2D_102
descr    = standard DFG benchmark, CC2D, nonstationary Navier-Stokes, Q2, SD(0.2), 5 timesteps BE
datfile  = ./data/apps_cc2d/master_bench.dat
mglevels = 2,3
DISCRETISATION_IELEMENTTYPE = 4
DISCRETISATION_IUPWIND = 0
DISCRETISATION_DUPSAM = 1.2
TIMEDISCRETISATION_DTIMESTEPTHETA = 1.0

##########
# Test 103
#
# Nontationary Navier-Stokes on level 2,3.
# Q2 element, SD(0.2)
# 5 timesteps with timestep 0.01, Crank-Nicolson
##########

testid   = CC2D_103
descr    = standard DFG benchmark, CC2D, nonstationary Navier-Stokes, Q2, SD(0.2), 5 timesteps CN
datfile  = ./data/apps_cc2d/master_bench.dat
mglevels = 2,3
TIMEDISCRETISATION_DTIMESTEPTHETA = 0.5

##########
# Test 104
#
# Nontationary Navier-Stokes on level 2,3.
# Q1~ element, EOJ(0.01)
# 5 timesteps with timestep 0.01, Crank-Nicolson
##########

testid   = CC2D_104
descr    = standard DFG benchmark, CC2D, nonstationary Navier-Stokes, Q2, EOJ(0.01), 5 timesteps CN
datfile  = ./data/apps_cc2d/master_bench.dat
mglevels = 2,3,4,5
DISCRETISATION_IELEMENTTYPE = 3
DISCRETISATION_IUPWIND = 5
DISCRETISATION_DUPSAM = 0.01
TIMEDISCRETISATION_DTIMESTEPTHETA = 0.5

