#!/bin/sh

# Include configuration file
. ./flagship.conf

# Enable auto-tuning using genetic algorithms.
# APPONLYFLAGS="$APPONLYFLAGS,-DENABLE_AUTOTUNE"

# Use system-wide configure
../../bin/configure \
    --appname=flagship \
    --programfile=src/flagship.f90 \
    --srclist_app="`ls src/*.f90 src/models/*/*.f90 src/kernel/*.f90`" \
    --header-files-to-copy=src/flagship.h \
    --header-files-to-copy=src/models/hydro/hydro.h \
    --header-files-to-copy=src/models/mhd/mhd.h \
    --header-files-to-copy=src/kernel/thermodynamics.h \
    --header-files-to-copy=src/kernel/magnetohydrodynamics.h \
    --apponlyflags="$APPONLYFLAGS"\
    $@

printf "Application will be compiled with the following flags:\n"
printf "$MESSAGE\n\n"
